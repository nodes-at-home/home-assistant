#
# lovelace configuration - one big file for all
#

title: !env_var HA_TITLE
views:

  - title: System
    path: system
    panel: false
    badges:
      - type: custom:mushroom-template-badge
        entity: group.nodestates_core
        content: Geräte
        icon: "{{ 'mdi:checkbox-marked-circle' if is_state ( entity, 'on' ) else 'mdi:alert-circle-outline' }}"
        color: "{{ 'limegreen' if is_state ( entity, 'on' ) else 'red' }}"
        tap_action:
            action: more-info
      - type: entity
        entity: sensor.log_db_file_size
        show_name: true
        icon: mdi:database
      - type: entity
        entity: sensor.cpu_temp
        show_name: true
        icon: mdi:memory
    cards:
      - type: entities
        title: Stage
        show_header_toggle: false
        entities:
            - binary_sensor.prod_mode
            - binary_sensor.dev_mode
      - type: entities
        title: RPi Server
        show_header_toggle: false
        entities:
            - sensor.processor_use
            - sensor.memory_use
            - sensor.memory_use_percent
            - sensor.disk_use
            - sensor.disk_use_percent
            - sensor.last_boot
      - type: entities
        title: Home Assistant
        show_header_toggle: false
        entities:
            - sensor.current_version
            - sensor.home_assistant_website
            - binary_sensor.home_assistant_website_update_available
            - sensor.docker_hub
            - binary_sensor.docker_hub_update_available
      - type: entities
        title: DSL
        show_header_toggle: false
        entities:
            - sensor.speedtest_ping
            - sensor.speedtest_download
            - sensor.speedtest_upload
      - type: conditional
        conditions:
          - entity: binary_sensor.fritz_box_7590_connection
            state: ["on", "off"]
        card:
            type: entities
            title: Fritz!Box
            show_header_toggle: false
            entities:
                - binary_sensor.fritz_box_7590_connection
                - binary_sensor.fritz_box_7590_link
                - sensor.fritz_box_7590_external_ip
                - sensor.fritz_box_7590_last_restart
                - sensor.fritz_box_7590_connection_uptime
                - switch.fritz_box_7590_wi_fi_mauzigast
                - switch.fritz_box_7590_wi_fi_pokemonnetwlan
                - switch.fritz_box_7590_wi_fi_pokemonnetwlan5
      - type: conditional
        conditions:
          - entity: binary_sensor.fritz_box_7590_verbindung
            state: ["on", "off"]
        card:
            type: entities
            title: Fritz!Box
            show_header_toggle: false
            entities:
                - binary_sensor.fritz_box_7590_verbindung
                - binary_sensor.fritz_box_7590_verbinden
                - sensor.fritz_box_7590_externe_ip
                - sensor.fritz_box_7590_letzter_neustart
                - sensor.fritz_box_7590_verbindungsverfugbarkeit
                - switch.fritz_box_7590_wi_fi_mauzigast
                - switch.fritz_box_7590_wi_fi_pokemonnetwlan
                - switch.fritz_box_7590_wi_fi_pokemonnetwlan5
      - type: entities
        title: USV
        show_header_toggle: false
        entities:
            - sensor.ups_status
            - sensor.ups_battery_charge
            - sensor.ups_load
            - sensor.ups_output_voltage
            - sensor.ups_battery_runtime
            # - sensor.ups_status_data

  - title: Geräte
    path: nodes
    panel: false
    badges:
      - type: custom:mushroom-template-badge
        entity: group.nodestates_core
        content: Geräte
        icon: "{{ 'mdi:checkbox-marked-circle' if is_state ( entity, 'on' ) else 'mdi:alert-circle-outline' }}"
        color: "{{ 'green' if is_state ( entity, 'on' ) else 'red' }}"
        tap_action:
            action: more-info
      - type: custom:mushroom-template-badge
        entity: group.nodestates_summer
        content: Sommer
        icon: "{{ 'mdi:checkbox-marked-circle' if is_state ( entity, 'on' ) else 'mdi:alert-circle-outline' }}"
        color: "{{ 'green' if is_state ( entity, 'on' ) else 'red' }}"
        tap_action:
            action: more-info
      - type: custom:mushroom-template-badge
        entity: group.nodestates_xmas
        content: Xmas
        icon: "{{ 'mdi:checkbox-marked-circle' if is_state ( entity, 'on' ) else 'mdi:alert-circle-outline' }}"
        color: "{{ 'green' if is_state ( entity, 'on' ) else 'red' }}"
        tap_action:
            action: more-info
    cards:
      - type: vertical-stack
        cards:
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_rfhub_lounge
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity ) }#}
            #icon: "{{ 'mdi:check' if is_state ( entity, 'on' ) else 'mdi:alert-circle-outline' }}"
            #icon_color: "{{ 'green' if is_state ( entity, 'on' ) else 'red' }}"
            picture: /local/images/wemos_mini.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_dht22_lounge
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/wemos_mini.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_dht22_terrace
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/wemos_mini.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_dht22_roof
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/wemos_mini.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_relay_garage
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/wemos_mini.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_sonoff_utilityroom
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/sonoff.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_sonoff_garage
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/sonoff.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_shelly_terrace
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/shelly.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_relay_backyard
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/wifi-relay.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_sonoff_yardgate
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/sonoff.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_relay_dining1
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/wifi-relay.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_relay_dining2
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/wifi-relay.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_sonoff_bedroom
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/sonoff_s20.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_ttp223_bedroom
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/wemos_mini.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
      - type: vertical-stack
        cards:
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_led_kitchen
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/sonoff_led.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_gesture_kitchen
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/wemos_mini.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_sonoff_k8200
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/sonoff_s20.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_sonoff_gallery1
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/sonoff_s20.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_sonoff_corridor
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/sonoff_s20.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_electricity_utilityroom
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/wemos_mini.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_pixel_kitchen
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/wemos_mini.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_ds18b20_groundfloor
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/wemos_mini.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_ds18b20_firstfloor
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/wemos_mini.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_shelly_roof
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/shelly.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_shelly_bath
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/shelly.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_shelly_shower
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/shelly.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_gas_utilityroom
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/wemos_mini.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_led_corridor
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/sonoff_led.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"

      - type: vertical-stack
        cards:
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_soil_garden
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/wemos_mini.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_rain_garden
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/wemos_mini.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_dht11_utilityroom
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/wemos_mini.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_sonoff_pool
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/wemos_mini.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_ds18b20_pool
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/wemos_mini.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_ds18b20_brewery
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/wemos_mini.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_spindle_fermenter
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/wemos_mini.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_xmastree_dining
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/wemos_mini.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_relay_garden
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/wemos_mini.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_ws2812_terrace1
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/sonoff_led.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_ws2812_terrace2
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/sonoff_led.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_ws2812_xmasstar
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/sonoff_led.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_relay_hydrotower
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/wemos_mini.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_ws2812_x1c
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] | replace ( '_', '@' ) }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/sonoff_led.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"

      - type: vertical-stack
        cards:
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_pitouch_corridor
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: pitouch
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/wemos_mini.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_tasmota
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/wemos_mini.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_ems_esp
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: ems-esp
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/wemos_mini.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"
          - type: custom:mushroom-template-card
            entity: binary_sensor.nodestate_watermeter
            tap_action:
              action: more-info
            multiline_secondary: true
            primary: "{{ entity[24:] }}"
            secondary: |
              {% set info_entity_base = 'sensor.' + entity[24:] %}
              boot: {{ states ( info_entity_base + '_lastboot' ) }}   version: {{ states ( info_entity_base + '_version' ) }}
              ping: {{ states ( info_entity_base + '_lastvoltage' ) }}    voltage: {{ states ( info_entity_base + '_voltage', with_unit = true ) }}
              {#{ states ( entity | replace ( '@', '_' ) ) }#}
            picture: /local/images/wemos_mini.jpg
            badge_icon: "{{ 'mdi:check' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'mdi:alert-circle-outline' }}"
            badge_color: "{{ 'green' if is_state ( entity | replace ( '@', '_' ), 'on' ) else 'red' }}"


  - title: Geräte
    path: nodes_old
    panel: true
    visible: false
    cards:
      - type: horizontal-stack
        cards:
          - type: entities
            title: Version
            show_header_toggle: false
            entities:
                - sensor.ds18b20_groundfloor_version
                - sensor.ds18b20_firstfloor_version
                - sensor.dht22_lounge_version
                - sensor.dht22_roof_version
                - sensor.dht22_terrace_version
                - sensor.dht11_utilityroom_version
                - sensor.rfhub_lounge_version
                - sensor.relay_garage_version
                - sensor.sonoff_garage_version
                - sensor.relay_backyard_version
                - sensor.sonoff_utilityroom_version
                - sensor.gas_utilityroom_version
                # - sensor.xmastree_dining_version
                - sensor.sonoff_pool_version
                - sensor.relay_garden_version
                - sensor.relay_hydrotower_version
                - sensor.soil_garden_version
                - sensor.rain_garden_version
                - sensor.shelly_terrace_version
                - sensor.relay_dining1_version
                - sensor.relay_dining2_version
                - sensor.sonoff_yardgate_version
                - sensor.sonoff_corridor_version
                - sensor.ds18b20_pool_version
                - sensor.led_kitchen_version
                - sensor.led_corridor_version
                - sensor.gesture_kitchen_version
                - sensor.ttp223_bedroom_version
                - sensor.sonoff_bedroom_version
                - sensor.sonoff_k8200_version
                - sensor.ws2812_x1c_version
                - sensor.sonoff_gallery1_version
                - sensor.shelly_roof_version
                - sensor.shelly_bath_version
                - sensor.shelly_shower_version
                - sensor.ds18b20_brewery_version
                - sensor.spindle_fermenter_version
                - sensor.pixel_kitchen_version
                # - sensor.electricity_utilityroom_version
                - sensor.gas_utilityroom_version
                - sensor.ws2812_terrace1_version
                - sensor.ws2812_terrace2_version
                - sensor.ws2812_xmasstar_version
          - type: entities
            title: Last Boot
            show_header_toggle: false
            entities:
                - sensor.ds18b20_groundfloor_lastboot
                - sensor.ds18b20_firstfloor_lastboot
                - sensor.dht22_lounge_lastboot
                - sensor.dht22_roof_lastboot
                - sensor.dht22_terrace_lastboot
                - sensor.dht11_utilityroom_lastboot
                - sensor.rfhub_lounge_lastboot
                - sensor.relay_garage_lastboot
                - sensor.sonoff_garage_lastboot
                - sensor.relay_backyard_lastboot
                - sensor.sonoff_utilityroom_lastboot
                - sensor.gas_utilityroom_lastboot
                # - sensor.xmastree_dining_lastboot
                - sensor.sonoff_pool_lastboot
                - sensor.relay_garden_lastboot
                - sensor.relay_hydrotower_lastboot
                - sensor.soil_garden_lastboot
                - sensor.rain_garden_lastboot
                - sensor.shelly_terrace_lastboot
                - sensor.relay_dining1_lastboot
                - sensor.relay_dining2_lastboot
                - sensor.sonoff_yardgate_lastboot
                - sensor.sonoff_corridor_lastboot
                - sensor.ds18b20_pool_lastboot
                - sensor.led_kitchen_lastboot
                - sensor.led_corridor_lastboot
                - sensor.gesture_kitchen_lastboot
                - sensor.ttp223_bedroom_lastboot
                - sensor.sonoff_bedroom_lastboot
                - sensor.sonoff_k8200_lastboot
                - sensor.ws2812_x1c_lastboot
                - sensor.sonoff_gallery1_lastboot
                - sensor.shelly_roof_lastboot
                - sensor.shelly_bath_lastboot
                - sensor.shelly_shower_lastboot
                - sensor.ds18b20_brewery_lastboot
                - sensor.spindle_fermenter_lastboot
                - sensor.pixel_kitchen_lastboot
                # - sensor.electricity_utilityroom_lastboot
                - sensor.gas_utilityroom_lastboot
                - sensor.ws2812_terrace1_lastboot
                - sensor.ws2812_terrace2_lastboot
                - sensor.ws2812_xmasstar_lastboot
          - type: entities
            title: Last Voltage Message
            show_header_toggle: false
            entities:
                - sensor.ds18b20_groundfloor_lastvoltage
                - sensor.ds18b20_firstfloor_lastvoltage
                - sensor.dht22_lounge_lastvoltage
                - sensor.dht22_roof_lastvoltage
                - sensor.dht22_terrace_lastvoltage
                - sensor.dht11_utilityroom_lastvoltage
                - sensor.rfhub_lounge_lastvoltage
                - sensor.relay_garage_lastvoltage
                - sensor.sonoff_garage_lastvoltage
                - sensor.relay_backyard_lastvoltage
                - sensor.sonoff_utilityroom_lastvoltage
                - sensor.gas_utilityroom_lastvoltage
                # - sensor.xmastree_dining_lastvoltage
                - sensor.sonoff_pool_lastvoltage
                - sensor.relay_garden_lastvoltage
                - sensor.relay_hydrotower_lastvoltage
                - sensor.soil_garden_lastvoltage
                - sensor.rain_garden_lastvoltage
                - sensor.shelly_terrace_lastvoltage
                - sensor.relay_dining1_lastvoltage
                - sensor.relay_dining2_lastvoltage
                - sensor.sonoff_yardgate_lastvoltage
                - sensor.sonoff_corridor_lastvoltage
                - sensor.ds18b20_pool_lastvoltage
                - sensor.led_kitchen_lastvoltage
                - sensor.led_corridor_lastvoltage
                - sensor.gesture_kitchen_lastvoltage
                - sensor.ttp223_bedroom_lastvoltage
                - sensor.sonoff_bedroom_lastvoltage
                - sensor.sonoff_k8200_lastvoltage
                - sensor.ws2812_x1c_lastvoltage
                - sensor.sonoff_gallery1_lastvoltage
                - sensor.shelly_roof_lastvoltage
                - sensor.shelly_bath_lastvoltage
                - sensor.shelly_shower_lastvoltage
                - sensor.ds18b20_brewery_lastvoltage
                - sensor.spindle_fermenter_lastvoltage
                - sensor.pixel_kitchen_lastvoltage
                # - sensor.electricity_utilityroom_lastvoltage
                - sensor.gas_utilityroom_lastvoltage
                - sensor.ws2812_terrace1_lastvoltage
                - sensor.ws2812_terrace2_lastvoltage
                - sensor.ws2812_xmasstar_lastvoltage
          - type: entities
            title: Spannungspegel
            show_header_toggle: false
            entities:
                - sensor.ds18b20_groundfloor_voltage
                - sensor.ds18b20_firstfloor_voltage
                - sensor.dht22_lounge_voltage
                - sensor.dht22_roof_voltage
                - sensor.dht22_terrace_voltage
                - sensor.dht11_utilityroom_voltage
                - sensor.rfhub_lounge_voltage
                - sensor.relay_garage_voltage
                - sensor.sonoff_garage_voltage
                - sensor.relay_backyard_voltage
                - sensor.sonoff_utilityroom_voltage
                - sensor.gas_utilityroom_voltage
                # - sensor.xmastree_dining_voltage
                - sensor.sonoff_pool_voltage
                - sensor.relay_garden_voltage
                - sensor.relay_hydrotower_voltage
                - sensor.soil_garden_voltage
                - sensor.rain_garden_voltage
                - sensor.shelly_terrace_voltage
                - sensor.relay_dining1_voltage
                - sensor.relay_dining2_voltage
                - sensor.sonoff_yardgate_voltage
                - sensor.sonoff_corridor_voltage
                - sensor.ds18b20_pool_voltage
                - sensor.led_kitchen_voltage
                - sensor.led_corridor_voltage
                - sensor.gesture_kitchen_voltage
                - sensor.ttp223_bedroom_voltage
                - sensor.sonoff_bedroom_voltage
                - sensor.sonoff_k8200_voltage
                - sensor.ws2812_x1c_voltage
                - sensor.sonoff_gallery1_voltage
                - sensor.shelly_roof_voltage
                - sensor.shelly_bath_voltage
                - sensor.shelly_shower_voltage
                - sensor.ds18b20_brewery_voltage
                - sensor.spindle_fermenter_voltage
                - sensor.pixel_kitchen_voltage
                # - sensor.electricity_utilityroom_voltage
                - sensor.gas_utilityroom_voltage
                - sensor.ws2812_terrace1_voltage
                - sensor.ws2812_terrace2_voltage
                - sensor.ws2812_xmasstar_voltage

  - title: Automatisierung
    path: automation
    panel: true
    cards:
      - type: horizontal-stack
        cards:
          - type: vertical-stack
            cards:
              - type: entities
                title: Einstellungen
                show_header_toggle: true
                entities:
                    - automation.set_default_values
                    - automation.pixel_node_preferences
              - type: entities
                title: Außenlichter
                show_header_toggle: true
                entities:
                    - automation.outdoor_lights_on_at_night
                    - automation.outdoor_lights_off_at_morning
              - type: entities
                title: Innenlichter
                show_header_toggle: true
                entities:
                    - automation.indoor_lights_on_at_coming_home_or_sunset
                    - automation.indoor_lights_by_night_on_at_coming_home
                    - automation.indoor_lights_off_at_getting_out_or_sunrise
                    - automation.indoor_lights_off_when_tv_switched_off
                    - automation.indoor_lights_off_after_random_delay
                    - automation.indoor_roof_light
                    - automation.indoor_bath_light_trigger_at_sunrise
                    - automation.indoor_bath_light_off_after_timeout
                    - automation.indoor_shower_light_trigger_at_sunrise
                    - automation.indoor_shower_light_off_after_timeout
                    - automation.indoor_lights_simulation_off_at_coming_home
                    - automation.bedroom_lights_toggle
              - type: entities
                title: Benachrichtigungen
                show_header_toggle: true
                entities:
                    - automation.notification_open_doors_and_windows
              - type: entities
                title: Heizung
                show_header_toggle: true
                entities:
                    - automation.heating_mode
                    - automation.heating_update_room
                    - automation.heating_update_templevel
                    - automation.gas_meter_send_threshold_high
                    - automation.gas_meter_send_threshold_low
                    - automation.gas_meter_send_delay
                    - automation.circulating_pump_set_datetimes
                    - automation.circulating_pump_switching
                    - automation.circulating_pump_start_scheduling
                    - automation.circulating_pump_stop_scheduling
                    - automation.circulating_pump_stop_scheduling_after_standup_workday
                    - automation.circulating_pump_stop_scheduling_after_standup_weekend
                    - automation.circulating_pump_running_disinfection
          - type: vertical-stack
            cards:
              - type: entities
                title: Garage
                show_header_toggle: true
                entities:
                    - automation.open_garage_door
                    - automation.close_garage_door
              - type: entities
                title: Küche
                show_header_toggle: true
                entities:
                    - automation.kitchen_desk_light_toggle
                    - automation.kitchen_desk_light_on_by_motion
                    - automation.kitchen_desk_light_off_by_motion
              - type: entities
                title: Pool
                show_header_toggle: true
                entities:
                    - automation.pool_pump_switching
                    - automation.pool_pump_off_after_timeout
                    - automation.set_pool_nonworking
              - type: entities
                title: Led-Lichter
                show_header_toggle: true
                entities:
                    - automation.send_effect_delay
              - type: entities
                title: Pitouch
                show_header_toggle: true
                entities:
                    - automation.pitouch_screen_on
                    - automation.pitouch_screen_off
                    - automation.pitouch_screen_off_after_tv_off
              - type: entities
                title: USV
                show_header_toggle: true
                entities:
                    - automation.ups_status_change
                    - automation.ups_shutdown_on_low_battery
              - type: entities
                title: Klimatisierung
                show_header_toggle: true
                entities:
                    - automation.climate_start
                    - automation.climate_started
                    - automation.climate_supervise_temperature
                    - automation.climate_target_temperature
                    - automation.climate_turn_off
                    - automation.climate_night_mode
                    - automation.climate_turned_off_extern
              - type: entities
                title: Geschirrspüler
                show_header_toggle: true
                entities:
                    - automation.dishwasher_schedule
                    - automation.dishwasher_start
              - type: entities
                title: Solar
                show_header_toggle: true
                entities:
                    - automation.solcast_update_forecast
                    - automation.solar_sh10rt_master_set_inverter_runmode
                    - automation.solar_sh10rt_master_update_inverter_runmode
                    - automation.solar_sh10rt_slave_set_inverter_runmode
                    - automation.solar_sh10rt_slave_update_inverter_runmode
                    - automation.solar_set_max_soc
                    - automation.solar_update_max_soc
                    - automation.solar_set_min_soc
                    - automation.solar_update_min_soc
                    - automation.solar_set_backup_soc
                    - automation.solar_update_backup_soc
                    - automation.solar_set_battery_charge_start_power
                    - automation.solar_update_battery_charge_start_power
                    - automation.solar_set_battery_discharge_start_power
                    - automation.solar_update_battery_discharge_start_power
                    - automation.solar_set_battery_max_charge_power
                    - automation.solar_update_battery_max_charge_power
                    - automation.solar_set_battery_max_discharge_power
                    - automation.solar_update_battery_max_discharge_power
                    - automation.solar_set_battery_forced_charge_discharge
                    - automation.solar_update_battery_forced_charge_discharge
                    - automation.solar_set_battery_forced_charge_discharge_power
                    - automation.solar_update_battery_forced_charge_discharge_power
          - type: vertical-stack
            cards:
              - type: entities
                title: Saugroboter
                show_header_toggle: true
                entities:
                    - automation.send_alert_after_daily_vacuum_to_empty_the_dustbin
                    - automation.reset_daily_vacuum_done_state_at_midnight
                    - automation.start_cleaning_ground_floor_room
                    - automation.start_cleaning_first_floor_room
                    - automation.start_daily_vacuum
              - type: entities
                title: Gartenbewässerung
                show_header_toggle: true
                entities:
                    - automation.irrigation_off
                    - automation.irrigation_schedule
                    - automation.irrigation_valve1
                    - automation.irrigation_valve1_on
                    - automation.irrigation_valve1_off_after_timeout
                    - automation.irrigation_valve2
                    - automation.irrigation_valve2_on
                    - automation.irrigation_valve2_off_after_timeout
                    - automation.irrigation_valve3
                    - automation.irrigation_valve3_on
                    - automation.irrigation_valve3_off_after_timeout
                    - automation.irrigation_set_duration
                    - automation.waterpump_emergency_stop
              - type: entities
                title: Rasenmäher
                show_header_toggle: true
                entities:
                    - automation.mower_start
                    - automation.mower_end
              - type: entities
                title: Fensterrollos
                show_header_toggle: true
                entities:
                    - automation.close_cover_bedroom
                    - automation.open_cover_bedroom
                    - automation.close_cover_bath
                    - automation.open_cover_bath
                    - automation.close_cover_office
                    - automation.open_cover_office
                    - automation.close_cover_nursery
                    - automation.open_cover_nursery
                    - automation.reset_close_at_low_temp_flag
              - type: entities
                title: Garage
                show_header_toggle: true
                entities:
                    - automation.bosch_powerstation_shutdown_after_inactivity
              - type: entities
                title: Hydrotower
                show_header_toggle: true
                entities:
                    - automation.hydrotower_pump_switching
              - type: entities
                title: Geräte
                show_header_toggle: true
                entities:
                    - automation.nodestate

  - title: Bosch Smart Home
    path: bsh
    panel: false
    cards:
      - type: entities
        title: Rauchmelder Erdgeschoss
        show_header_toggle: false
        entities:
            - binary_sensor.rauchmelder_flur
            - binary_sensor.rauchmelder_flur_battery
            - type: divider
            - binary_sensor.rauchmelder_esszimmer
            - binary_sensor.rauchmelder_esszimmer_battery
            - type: divider
            - binary_sensor.rauchmelder_wohnzimmer
            - binary_sensor.rauchmelder_wohnzimmer_battery
            - type: divider
            - binary_sensor.rauchmelder_hauswirtsch
            - binary_sensor.rauchmelder_hauswirtsch_battery
            - type: divider
            - binary_sensor.rauchmelder_garage
            - binary_sensor.rauchmelder_garage_battery
      - type: entities
        title: Rauchmelder Obergeschoss
        show_header_toggle: false
        entities:
            - binary_sensor.rauchmelder_buro
            - binary_sensor.rauchmelder_buro_battery
            - type: divider
            - binary_sensor.rauchmelder_schlafzimmer
            - binary_sensor.rauchmelder_schlafzimmer_battery
            - type: divider
            - binary_sensor.rauchmelder_kinderzimmer
            - binary_sensor.rauchmelder_kinderzimmer_battery
            - type: divider
            - binary_sensor.rauchmelder_galerie
            - binary_sensor.rauchmelder_galerie_battery
            - type: divider
            - binary_sensor.rauchmelder_dachboden
            - binary_sensor.rauchmelder_dachboden_battery
      - type: entities
        title: Türkontakte
        show_header_toggle: false
        entities:
            - binary_sensor.eingangstur
            - binary_sensor.eingangstur_battery
            - type: divider
            - binary_sensor.nebentur
            - binary_sensor.nebentur_battery
            - type: divider
            - binary_sensor.dachboden
            - binary_sensor.dachboden_battery
            - type: divider
            - binary_sensor.garagentur
            - binary_sensor.garagentur_battery
            - type: divider
            - binary_sensor.garagentor
            - binary_sensor.garagentor_battery
            - type: divider
            - binary_sensor.terassentur_kuche
            - binary_sensor.terassentur_kuche_battery
            - type: divider
            - binary_sensor.terassentur_esszimmer
            - binary_sensor.terassentur_esszimmer_battery
            - type: divider
            - binary_sensor.terassentur_wohnzimmer
            - binary_sensor.terassentur_wohnzimmer_battery
      - type: entities
        title: Fensterkontakte Erdgeschoss
        show_header_toggle: false
        entities:
            - binary_sensor.fenster_flur
            - binary_sensor.fenster_flur_battery
            - type: divider
            - binary_sensor.fenster_dusche
            - binary_sensor.fenster_dusche_battery
            - type: divider
            - binary_sensor.fenster_wohnzimmer_1
            - binary_sensor.fenster_wohnzimmer_1_battery
            - binary_sensor.fenster_wohnzimmer_2
            - binary_sensor.fenster_wohnzimmer_2_battery
            - binary_sensor.fenster_wohnzimmer_3
            - binary_sensor.fenster_wohnzimmer_3_battery
            - binary_sensor.fenster_wohnzimmer_4
            - binary_sensor.fenster_wohnzimmer_4_battery
            - binary_sensor.fenster_wohnzimmer_5
            - binary_sensor.fenster_wohnzimmer_5_battery
            - binary_sensor.fenster_wohnzimmer_6
            - binary_sensor.fenster_wohnzimmer_6_battery
      - type: entities
        title: Fensterkontakte Obergeschoss
        show_header_toggle: false
        entities:
            - binary_sensor.dachfenster_galerie
            - binary_sensor.dachfenster_galerie_battery
            - type: divider
            - binary_sensor.fenster_arbeitszimmer
            - binary_sensor.fenster_arbeitszimmer_battery
            - binary_sensor.dachfenster_arbeitszimmer
            - binary_sensor.dachfenster_arbeitszimmer_battery
            - type: divider
            - binary_sensor.fenster_kinderzimmer
            - binary_sensor.fenster_kinderzimmer_battery
            - binary_sensor.dachfenster_kinderzimmer
            - binary_sensor.dachfenster_kinderzimmer_battery
            - type: divider
            - binary_sensor.fenster_schlafzimmer
            - binary_sensor.fenster_schlafzimmer_battery
            - binary_sensor.dachfenster_schlafzimmer
            - binary_sensor.dachfenster_schlafzimmer_battery
            - type: divider
            - binary_sensor.fenster_bad
            - binary_sensor.fenster_bad_battery
            - binary_sensor.dachfenster_bad
            - binary_sensor.dachfenster_bad_battery
            - type: divider
            - binary_sensor.fenster_dachboden
            - binary_sensor.fenster_dachboden_battery
      - type: entities
        title: Bewegungsmelder
        show_header_toggle: false
        entities:
            - binary_sensor.bewegungsmelder1
      - type: entities
        title: Allgemein
        show_header_toggle: false
        entities:
            - entity: binary_sensor.smokedetectionsystem
              name: Smoke Detection System
            - alarm_control_panel.intrusion_detection_system
      - type: entities
        title: Zwischenstecker
        show_header_toggle: false
        entities:
            - switch.wasserpumpe
            - sensor.wasserpumpe_communication_quality
            - sensor.wasserpumpe_energy
            - sensor.wasserpumpe_power
            - type: divider
            # washing machine
            - switch.waschmaschine
            - sensor.waschmaschine_communication_quality
            - sensor.waschmaschine_energy
            - sensor.waschmaschine_power
            - type: divider
            # dishwasher
            - switch.geschirrspuler
            - sensor.geschirrspuler_communication_quality
            - sensor.geschirrspuler_energy
            - sensor.geschirrspuler_power
            - type: divider
            # accu loader station
            - switch.bosch_ladestation
            - sensor.bosch_ladestation_communication_quality
            - sensor.bosch_ladestation_energy
            - sensor.bosch_ladestation_power
            - type: divider
            - switch.nodesathome1
            - sensor.nodesathome1_communication_quality
            - sensor.nodesathome1_energy
            - sensor.nodesathome1_power
            - type: divider
            - switch.nodesathome2
            - sensor.nodesathome2_communication_quality
            - sensor.nodesathome2_energy
            - sensor.nodesathome2_power
      - type: entities
        title: Heizkörperthermostate
        show_header_toggle: false
        entities:
            - binary_sensor.heizkorper_bad_battery
            - switch.heizkorper_bad_childlock
            - number.heizkorper_bad_offset
            - sensor.heizkorper_bad_temperature
            - sensor.heizkorper_bad_valvetappet
            - type: divider
            - binary_sensor.heizkorper_dusche_battery
            - switch.heizkorper_dusche_childlock
            - number.heizkorper_dusche_offset
            - sensor.heizkorper_dusche_temperature
            - sensor.heizkorper_dusche_valvetappet
      - type: entities
        title: Raumklima
        show_header_toggle: false
        entities:
            - climate.room_climate_kuche
            - climate.room_climate_esszimmer
            - climate.room_climate_wohnzimmer
            - climate.room_climate_flur
            - climate.room_climate_dusche
            - climate.room_climate_hauswirtschaftsraum
            - climate.room_climate_galerie
            - climate.room_climate_schlafzimmer
            - climate.room_climate_kinderzimmer
            - climate.room_climate_arbeitszimmer
            - climate.room_climate_bad
      - type: entities
        title: Wandthermostate Erdgeschoss
        show_header_toggle: false
        entities:
            - switch.thermostat_kuche_childlock
            - number.thermostat_kuche_offset
            - sensor.thermostat_kuche_temperature
            - sensor.thermostat_kuche_humidity
            - type: divider
            - switch.thermostat_esszimmer_childlock
            - number.thermostat_esszimmer_offset
            - sensor.thermostat_esszimmer_temperature
            - sensor.thermostat_esszimmer_humidity
            - type: divider
            - switch.thermostat_wohnzimmer_childlock
            - number.thermostat_wohnzimmer_offset
            - sensor.thermostat_wohnzimmer_temperature
            - sensor.thermostat_wohnzimmer_humidity
            - type: divider
            - switch.thermostat_flur_childlock
            - number.thermostat_flur_offset
            - sensor.thermostat_flur_temperature
            - sensor.thermostat_flur_humidity
            - type: divider
            - switch.thermostat_dusche_childlock
            - number.thermostat_dusche_offset
            - sensor.thermostat_dusche_temperature
            - sensor.thermostat_dusche_humidity
            - type: divider
            - switch.thermostat_hauswirtschaft_childlock
            - number.thermostat_hauswirtschaft_offset
            - sensor.thermostat_hauswirtschaft_temperature
            - sensor.thermostat_hauswirtschaft_humidity
            - type: divider
      - type: entities
        title: Wandthermostate Obergeschoss
        show_header_toggle: false
        entities:
            - switch.thermostat_galerie_childlock
            - number.thermostat_galerie_offset
            - sensor.thermostat_galerie_temperature
            - sensor.thermostat_galerie_humidity
            - type: divider
            - switch.thermostat_schlafzimmer_childlock
            - number.thermostat_schlafzimmer_offset
            - sensor.thermostat_schlafzimmer_temperature
            - sensor.thermostat_schlafzimmer_humidity
            - type: divider
            - switch.thermostat_kinderzimmer_childlock
            - number.thermostat_kinderzimmer_offset
            - sensor.thermostat_kinderzimmer_temperature
            - sensor.thermostat_kinderzimmer_humidity
            - type: divider
            - switch.thermostat_arbeitszimmer_childlock
            - number.thermostat_arbeitszimmer_offset
            - sensor.thermostat_arbeitszimmer_temperature
            - sensor.thermostat_arbeitszimmer_humidity
            - type: divider
            - switch.thermostat_bad_childlock
            - number.thermostat_bad_offset
            - sensor.thermostat_bad_temperature
            - sensor.thermostat_bad_humidity
            - type: divider
