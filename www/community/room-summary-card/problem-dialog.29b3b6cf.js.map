{"mappings":"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","sources":["src/cards/components/problem/dialog/problem-dialog.ts","src/cards/components/problem/list/problem-entity-list.ts","src/cards/components/problem/row/problem-entity-row.ts","src/hass/state/more-info-mixin.ts","src/cards/components/problem/row/styles.ts","src/cards/components/problem/list/styles.ts","src/cards/components/problem/dialog/create-close-heading.ts"],"sourcesContent":["// problem-entity-list is imported dynamically\nimport '@cards/components/problem/list/problem-entity-list';\nimport { HassUpdateMixin } from '@cards/mixins/hass-update-mixin';\nimport { fireEvent } from '@hass/common/dom/fire_event';\nimport type { HassDialog } from '@hass/dialogs/make-dialog-manager';\nimport type { EntityState } from '@type/room';\nimport { LitElement, html, nothing, type TemplateResult } from 'lit';\nimport { customElement, property, state } from 'lit/decorators.js';\nimport { createCloseHeading } from './create-close-heading';\nimport type { ProblemDialogParams } from './show-dialog-problem';\n/**\n * Problem Dialog Component\n *\n * Dialog that displays all problem entities when the problem indicator is clicked.\n * Each entity can be clicked to open its more-info dialog.\n */\n@customElement('problem-dialog')\nexport class ProblemDialog\n  extends HassUpdateMixin(LitElement)\n  implements HassDialog<ProblemDialogParams>\n{\n  /**\n   * Array of problem entity states\n   */\n  @property({ type: Array })\n  problemEntities: EntityState[] = [];\n\n  /**\n   * Whether the dialog is open\n   */\n  @state() private _opened = false;\n\n  /**\n   * Opens the dialog with the given entities\n   * Supports both direct call (entities array) and dialog manager (params object)\n   */\n  showDialog(params: ProblemDialogParams): void {\n    this.problemEntities = params.entities;\n    this._opened = true;\n  }\n\n  public closeDialog() {\n    this._opened = false;\n    return true;\n  }\n\n  /**\n   * Handles dialog close event\n   */\n  private _dialogClosed(): void {\n    this._opened = false;\n    // Fire dialog-closed event for proper lifecycle management\n    fireEvent(this, 'dialog-closed', { dialog: this.localName });\n  }\n\n  /**\n   * Renders the component\n   */\n  override render(): TemplateResult | typeof nothing {\n    if (!this.hass || this.problemEntities.length === 0) {\n      return nothing;\n    }\n\n    return html`\n      <ha-dialog\n        ?open=${this._opened}\n        .scrimClickAction=${'close'}\n        .escapeKeyAction=${'close'}\n        .heading=${createCloseHeading(this.hass)}\n        @closed=${this._dialogClosed}\n      >\n        <problem-entity-list\n          .entities=${this.problemEntities}\n          .hass=${this.hass}\n        ></problem-entity-list>\n      </ha-dialog>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'problem-dialog': ProblemDialog;\n  }\n}\n","// problem-entity-row is imported dynamically\nimport '@cards/components/problem/row/problem-entity-row';\nimport { HassUpdateMixin } from '@cards/mixins/hass-update-mixin';\nimport { localize } from '@localize/localize';\nimport type { EntityState } from '@type/room';\nimport { CSSResult, LitElement, html, nothing, type TemplateResult } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { repeat } from 'lit/directives/repeat.js';\nimport { styles } from './styles';\n\n/**\n * Problem Entity List Component\n *\n * Renders a list of problem entities in the dialog.\n * Shows empty state when no problems exist.\n */\n@customElement('problem-entity-list')\nexport class ProblemEntityList extends HassUpdateMixin(LitElement) {\n  /**\n   * Array of problem entity states\n   */\n  @property({ type: Array })\n  entities: EntityState[] = [];\n\n  /**\n   * Renders the component\n   */\n  override render(): TemplateResult | typeof nothing {\n    if (!this.hass) {\n      return nothing;\n    }\n\n    if (this.entities.length === 0) {\n      return html`\n        <div class=\"empty-state\">\n          <p>${localize(this.hass, 'card.component.problem.no_problems')}</p>\n        </div>\n      `;\n    }\n\n    return html`\n      <div class=\"problem-entity-list\">\n        ${repeat(\n          this.entities,\n          (entity) => entity.entity_id,\n          (entity) => html`\n            <problem-entity-row\n              .entity=${entity}\n              .hass=${this.hass}\n            ></problem-entity-row>\n          `,\n        )}\n      </div>\n    `;\n  }\n\n  static override get styles(): CSSResult {\n    return styles;\n  }\n}\n","import { HassUpdateMixin } from '@cards/mixins/hass-update-mixin';\nimport { fireEvent } from '@hass/common/dom/fire_event';\n// more-info-mixin is now compiled\nimport { computeEntityName } from '@hass/common/entity/compute_entity_name';\nimport { stateActive } from '@hass/common/entity/state_active';\nimport '@hass/state/more-info-mixin';\nimport { stateDisplay } from '@html/state-display';\nimport { localize } from '@localize/localize';\nimport type { EntityState } from '@type/room';\nimport { CSSResult, LitElement, html, nothing, type TemplateResult } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { styles } from './styles';\n\n/**\n * Problem Entity Row Component\n *\n * Renders a single problem entity row in the problem dialog.\n * Shows entity icon, name, state, and active/inactive indicator.\n */\n@customElement('problem-entity-row')\nexport class ProblemEntityRow extends HassUpdateMixin(LitElement) {\n  /**\n   * The problem entity state\n   */\n  @property({ type: Object })\n  entity!: EntityState;\n\n  /**\n   * Handles click on entity row to open more-info dialog\n   */\n  private _handleClick(): void {\n    fireEvent(this, 'hass-more-info', {\n      entityId: this.entity.entity_id,\n    });\n  }\n\n  /**\n   * Renders the component\n   */\n  override render(): TemplateResult | typeof nothing {\n    if (!this.entity || !this.hass) {\n      return nothing;\n    }\n\n    const isActive = stateActive(this.entity);\n    const displayName =\n      computeEntityName(this.entity, this.hass) || this.entity.entity_id;\n\n    return html`\n      <div\n        class=\"problem-entity-row ${isActive ? 'active' : 'inactive'}\"\n        @click=${this._handleClick}\n      >\n        <ha-state-icon\n          .hass=${this.hass}\n          .stateObj=${this.entity}\n        ></ha-state-icon>\n        <div class=\"entity-info\">\n          <div class=\"entity-name\">${displayName}</div>\n          <div class=\"entity-state\">\n            ${stateDisplay(this.hass, this.entity)}\n          </div>\n        </div>\n        <div class=\"status-indicator\">\n          ${isActive\n            ? html`<span class=\"active-badge\"\n                >${localize(this.hass, 'card.component.problem.active')}</span\n              >`\n            : html`<span class=\"inactive-badge\"\n                >${localize(this.hass, 'card.component.problem.inactive')}</span\n              >`}\n        </div>\n      </div>\n    `;\n  }\n\n  static override get styles(): CSSResult {\n    return styles;\n  }\n}\n","/**\n * https://github.com/home-assistant/frontend/blob/dev/src/state/more-info-mixin.ts\n */\n\nimport type { MoreInfoDialogParams } from '@hass/dialogs/more-info/ha-more-info-dialog';\n\ndeclare global {\n  // for fire event\n  interface HASSDomEvents {\n    'hass-more-info': MoreInfoDialogParams;\n  }\n}\n","import { css, CSSResult } from 'lit';\n\n/**\n * Styles for the problem entity row component\n */\nexport const styles: CSSResult = css`\n  /* Problem entity row */\n  .problem-entity-row {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    padding: 12px;\n    border-radius: 8px;\n    cursor: pointer;\n    transition: background-color 0.2s ease;\n    border: 1px solid var(--divider-color, rgba(0, 0, 0, 0.12));\n  }\n\n  .problem-entity-row:hover {\n    background-color: var(--primary-color, #03a9f4);\n    background-color: rgba(var(--rgb-primary-color, 3, 169, 244), 0.1);\n  }\n\n  .problem-entity-row.active {\n    border-left: 3px solid var(--error-color, #f44336);\n  }\n\n  .problem-entity-row.inactive {\n    opacity: 0.7;\n  }\n\n  /* Entity icon */\n  .problem-entity-row ha-state-icon {\n    flex-shrink: 0;\n    width: 24px;\n    height: 24px;\n  }\n\n  /* Entity info */\n  .entity-info {\n    flex: 1;\n    min-width: 0;\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n  }\n\n  .entity-name {\n    font-weight: 500;\n    font-size: 14px;\n    color: var(--primary-text-color, #212121);\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n\n  .entity-state {\n    font-size: 12px;\n    color: var(--secondary-text-color, #757575);\n  }\n\n  /* Status indicator */\n  .status-indicator {\n    flex-shrink: 0;\n  }\n\n  .active-badge {\n    display: inline-block;\n    padding: 2px 8px;\n    border-radius: 12px;\n    font-size: 11px;\n    font-weight: 500;\n    background-color: var(--error-color, red);\n    color: white;\n  }\n\n  .inactive-badge {\n    display: inline-block;\n    padding: 2px 8px;\n    border-radius: 12px;\n    font-size: 11px;\n    font-weight: 500;\n    background-color: var(--success-color, green);\n    color: white;\n  }\n\n  /* Mobile responsive */\n  @media (max-width: 600px) {\n    .problem-entity-row {\n      padding: 10px;\n      gap: 10px;\n    }\n\n    .entity-name {\n      font-size: 13px;\n    }\n\n    .entity-state {\n      font-size: 11px;\n    }\n  }\n`;\n","import { css, CSSResult } from 'lit';\n\n/**\n * Styles for the problem entity list component\n */\nexport const styles: CSSResult = css`\n  /* Problem entity list */\n  .problem-entity-list {\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n  }\n\n  /* Empty state */\n  .empty-state {\n    padding: 32px 16px;\n    text-align: center;\n    color: var(--secondary-text-color, #757575);\n  }\n\n  .empty-state p {\n    margin: 0;\n    font-size: 14px;\n  }\n`;\n","import type { HomeAssistant } from '@hass/types';\nimport { localize } from '@localize/localize';\nimport { html, type TemplateResult } from 'lit';\n\n/**\n * Creates a close heading for ha-dialog\n */\nexport const createCloseHeading = (hass: HomeAssistant): TemplateResult => html`\n  <div class=\"header_title\">\n    <ha-icon-button\n      .label=${hass?.localize('ui.common.close')}\n      .path=${'M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z'}\n      dialogAction=\"close\"\n      class=\"header_button\"\n    ></ha-icon-button>\n    <span>${localize(hass, 'card.component.problem.dialog_title')}</span>\n  </div>\n`;\n"],"names":[],"version":3,"file":"problem-dialog.29b3b6cf.js.map"}